<VirtualHost *:8080>
   ServerName tracker.api.gnome.org
   
   RewriteEngine on

   # Send the index page to Tracker website.
   RewriteRule ^/$ https://gnome.pages.gitlab.gnome.org/tracker/ [R,L]

   # Send all queries for /ontology/v3/... to the relevant documentation
   RewriteRule ^/ontology/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/ [R,L]
   RewriteRule ^/ontology/v3/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/ [R,L]
   RewriteRule ^/ontology/v3/nrl/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/libtracker-sparql-3/nrl.html [R,L]
   RewriteRule ^/ontology/v3/nie/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/nie.html [R,L]
   RewriteRule ^/ontology/v3/nao/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/nao.html [R,L]
   RewriteRule ^/ontology/v3/nfo/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/nfo.html [R,L]
   RewriteRule ^/ontology/v3/nco/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/nco.html [R,L]
   RewriteRule ^/ontology/v3/nmo/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/nmo.html [R,L]
   RewriteRule ^/ontology/v3/ncal/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/ncal.html [R,L]
   RewriteRule ^/ontology/v3/scal/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/scal.html [R,L]
   RewriteRule ^/ontology/v3/nmm/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/nmm.html [R,L]
   RewriteRule ^/ontology/v3/mto/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/mto.html [R,L]
   RewriteRule ^/ontology/v3/mlo/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/mlo.html [R,L]
   RewriteRule ^/ontology/v3/mfo/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/mfo.html [R,L]
   RewriteRule ^/ontology/v3/mtp/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/mtp.html [R,L]
   RewriteRule ^/ontology/v3/slo/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/slo.html [R,L]
   RewriteRule ^/ontology/v3/tracker/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/tracker.html [R,L]
   RewriteRule ^/ontology/v3/osinfo/?$ https://gnome.pages.gitlab.gnome.org/tracker/docs/api-preview/ontology-3/osinfo.html [R,L]
</VirtualHost>

<LocationMatch "^/.well-known/acme-challenge">
  RedirectMatch ^(.*) https://letsencrypt.gnome.org$1
</LocationMatch>
